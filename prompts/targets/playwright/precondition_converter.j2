{% extends "targets/playwright/base_converter.j2" %}

## Precondition Information
- **Description**: {{ description }}
- **Type**: {{ precondition_type }}
- **Role**: {{ role }}
- **Target**: {{ target }}

## Available Scenarios
{% for scenario in available_scenarios %}
- **{{ scenario.name }}**: {{ scenario.summary }}
  Side Effects: {{ scenario.side_effects | join(', ') }}
{% endfor %}

## Precondition Handling
**Option 1: Use Existing Scenarios (PREFERRED)**
If there are available login scenarios in the system, use them by calling the appropriate SDK function:

- For admin login: Use admin login SDK functions
- For user login: Use user login SDK functions
- For any login: Choose the most appropriate available scenario

**Option 2: Use System Context (REQUIRED)**
If no suitable scenarios are available, use ONLY the selectors provided in the system context:
1. Use input field selectors for login fields
2. Use submit button selectors for form submission
3. Use navigation text selectors for navigation elements
4. NEVER invent selectors - use only what's in the system context

### ROLE Preconditions  
For role preconditions, ensure the user has the appropriate permissions:
- Admin role: Use admin credentials
- User role: Use regular user credentials

## Code Generation Guidelines
1. **Use ONLY system context selectors** - never invent selectors
2. **Include proper waits** - wait for elements to be ready
3. **Handle errors gracefully** - add try-catch blocks where appropriate
4. **Use system context data** - use only data from system context
5. **Follow Playwright best practices** - use proper locators and assertions

## CRITICAL INSTRUCTIONS
1. **For "you should be logged in"** - use appropriate SDK login functions
2. **ALWAYS use available scenarios** - never generate generic login code
3. **NEVER generate generic code - use only system context selectors**

Generate the appropriate Playwright code for this precondition: